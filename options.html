<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>A Font Face-off — Options</title>
  <link rel="stylesheet" type="text/css" href="settings.css" />
  <style>
    /* Left toolbar preview theme matching left-toolbar-iframe.html */
    #left-toolbar-preview {
      --toolbar-background: #2b2a33;
      --icon-color: #fbfbfe;
      --primary-color: 137, 180, 250;
    }
    
    @media (prefers-color-scheme: light) {
      #left-toolbar-preview {
        --toolbar-background: #f9f9fb;
        --icon-color: #15141a;
        --primary-color: 137, 180, 250;
      }
    }
    
    #left-toolbar-preview .preview-button {
      color: var(--icon-color);
    }
    
    /* Slight blue tint for Face-off and WhatFont buttons in preview */
    #left-toolbar-preview .preview-button:nth-child(1),
    #left-toolbar-preview .preview-button:nth-child(2) {
      color: rgb(var(--primary-color));
    }
  </style>
</head>
<body>
  <div id="header">
    <h2>A Font Face-off — Options</h2>
  </div>
  
  <div id="settingsTabs">
    <div id="generalTab">Toolbar</div>
    <div id="excludeTab">Advanced</div>
  </div>

  <div id="generalSettings">
    <label style="font-size: 16px; font-weight: bold; color: var(--text-color);">Toolbar Settings</label>
    
    <div id="left-toolbar-preview" style="position: fixed; left: 0px; top: 20%; width: 48px; height: 20vh; z-index: 1000; pointer-events: none; 
         border-radius: 8px; opacity: 0.8; display: flex; flex-direction: column; justify-content: space-between; align-items: center; 
         padding: 20px 0; box-sizing: border-box; transform: translateY(-50%); display: none;
         background: transparent; color: var(--icon-color);">
      
      <!-- Face-off button -->
      <div class="preview-button" style="aspect-ratio: 1; border: none; border-radius: 20%; background: transparent; 
           display: flex; align-items: center; justify-content: center; color: var(--icon-color, #fbfbfe); margin: 4px 0;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 3 L7 19"/><path d="M7 19 L10.6 21"/>
          <path d="M20 3 L17 19"/><path d="M17 19 L13.4 21"/>
          <path d="M12 5.0c-2.6 0-3.9 2.0-3.9 3.8 0 2.5 1.6 4.9 3.9 5.4 2.3-.5 3.9-2.9 3.9-5.4 0-1.8-1.3-3.8-3.9-3.8Z"/>
          <circle cx="10" cy="8.8" r="0.8" fill="currentColor" stroke="none"/>
          <circle cx="14" cy="8.8" r="0.8" fill="currentColor" stroke="none"/>
          <circle cx="12" cy="12.0" r="0.5" fill="currentColor" stroke="none"/>
          <circle cx="10.7" cy="12.0" r="0.5" fill="currentColor" stroke="none"/>
          <circle cx="13.3" cy="12.0" r="0.5" fill="currentColor" stroke="none"/>
          <ellipse cx="12" cy="18.2" rx="2.8" ry="1.1" fill="currentColor" stroke="none"/>
        </svg>
      </div>
      
      <!-- WhatFont button -->
      <div class="preview-button" style="aspect-ratio: 1; border: none; border-radius: 20%; background: transparent; 
           display: flex; align-items: center; justify-content: center; color: var(--icon-color, #fbfbfe); margin: 4px 0;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
      </div>
      
      <!-- Close Tab button -->
      <div class="preview-button" style="aspect-ratio: 1; border: none; border-radius: 20%; background: transparent; 
           display: flex; align-items: center; justify-content: center; color: var(--icon-color, #fbfbfe); margin: 4px 0;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </div>
      
      <!-- Page Up button -->
      <div class="preview-button" style="aspect-ratio: 1; border: none; border-radius: 20%; background: transparent; 
           display: flex; align-items: center; justify-content: center; color: var(--icon-color, #fbfbfe); margin: 4px 0;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="17 11 12 6 7 11"></polyline>
          <polyline points="17 18 12 13 7 18"></polyline>
        </svg>
      </div>
      
      <!-- Page Down button -->
      <div class="preview-button" style="aspect-ratio: 1; border: none; border-radius: 20%; background: transparent; 
           display: flex; align-items: center; justify-content: center; color: var(--icon-color, #fbfbfe); margin: 4px 0;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="7 13 12 18 17 13"></polyline>
          <polyline points="7 6 12 11 17 6"></polyline>
        </svg>
      </div>
    </div>
    
    <label for="toolbar-enabled">Left Toolbar Enabled?</label>
    <select id="toolbar-enabled">
        <option value="true">Enabled</option>
        <option value="false">Disabled</option>
    </select>
    
    <label for="toolbar-width">Width (px):</label>
    <span id="toolbar-width-value" class="currentValue">36px</span>
    <input type="range" id="toolbar-width" min="24" max="80" value="36">
    <br />
    
    <label for="toolbar-height">Height (%):</label>
    <span id="toolbar-height-value" class="currentValue">20%</span>
    <input type="range" id="toolbar-height" min="10" max="80" value="20">
    <br />
    
    <label for="toolbar-position">Position (%):</label>
    <span id="toolbar-position-value" class="currentValue">50%</span>
    <input type="range" id="toolbar-position" min="0" max="100" value="50">
    <br />
    
    <label for="toolbar-transparency">Transparency:</label>
    <span id="toolbar-transparency-value" class="currentValue">0.2</span>
    <input type="range" id="toolbar-transparency" min="0" max="1" step="0.1" value="0.2">
    <br />
    
    <label for="toolbar-gap">Gap from edge (px):</label>
    <span id="toolbar-gap-value" class="currentValue">0px</span>
    <input type="range" id="toolbar-gap" min="0" max="20" value="0">
    <br />
    
    <div class="row">
      <button id="save-toolbar">Save Toolbar Settings</button>
      <span id="status-toolbar" class="status"></span>
    </div>
    <div class="hint">Shows a floating vertical toolbar on the left side of web pages with Face-off, WhatFont, and navigation buttons. Position controls vertical centering.</div>
  </div>

  <div id="excludeSettings" style="display: none;">
    <div class="section">
      <div class="section-title">Known Serif Family Names</div>
      <label for="known-serif">Classification</label>
      <textarea id="known-serif" placeholder="One family per line, case-insensitive. Example:\nPT Serif"></textarea>
      <div class="row">
        <button id="reset-serif">Reset to Default</button>
        <button id="save-serif">Save Serif List</button>
        <span id="status-serif" class="status"></span>
      </div>
      <div class="hint">Used to help classify a page's base typeface as serif. Does not prevent Facade from changing fonts. Default includes PT Serif.</div>
    </div>

    <div class="section">
      <div class="section-title">Known Sans Family Names</div>
      <label for="known-sans">Classification</label>
      <textarea id="known-sans" placeholder="One family per line, case-insensitive."></textarea>
      <div class="row">
        <button id="reset-sans">Reset to Default</button>
        <button id="save-sans">Save Sans List</button>
        <span id="status-sans" class="status"></span>
      </div>
      <div class="hint">Used to help classify a page's base typeface as sans-serif. Does not prevent Facade from changing fonts.</div>
    </div>

    <div class="section">
      <div class="section-title">FontFace-only Domains</div>
      <textarea id="ff-only-domains" placeholder="One domain per line (e.g., x.com)"></textarea>
      <div class="row">
        <button id="reset-ffonly">Reset to Default</button>
        <button id="save-ffonly">Save Domains</button>
        <span id="status-ffonly" class="status"></span>
      </div>
      <div class="hint">On these domains, the extension loads fonts via FontFace only (no css2 @import or &lt;link&gt;), to avoid strict CSP blocks. Default: x.com.</div>
    </div>

    <div class="section">
      <div class="section-title">Inline Apply Domains</div>
      <textarea id="inline-domains" placeholder="One domain per line (e.g., x.com)"></textarea>
      <div class="row">
        <button id="reset-inline">Reset to Default</button>
        <button id="save-inline">Save Domains</button>
        <span id="status-inline" class="status"></span>
      </div>
      <div class="hint">On these domains, apply fonts via inline styles to resist CSP and SPA overrides. Default: x.com.</div>
    </div>

    <div class="section">
      <div class="section-title">Font Cache Management</div>
      <div class="row">
        <button id="clear-font-cache" class="purple">Clear Font Cache</button>
        <button id="view-cache-info">View Cache Info</button>
        <span id="status-cache" class="status"></span>
      </div>
      <div class="hint">Font cache stores downloaded fonts for faster loading on x.com and other FontFace-only domains. Cache expires after 1 year.</div>
    </div>

    <div class="section">
      <div class="section-title">Reset All Local Settings</div>
      <div class="row">
        <button id="reset-all-settings" class="danger">Reset All Local Settings</button>
        <span id="status-reset-all" class="status"></span>
      </div>
      <div class="hint">⚠️ This will clear all extension data including applied fonts, saved configurations, and custom settings. This action cannot be undone.</div>
    </div>
  </div>

  <script src="options.js"></script>
</body>
</html>
